{"ast":null,"code":"import Vue from 'vue';\nimport Vuex from 'vuex';\nimport API from '@/api';\nVue.use(Vuex);\n//创建sotre容器\nexport default new Vuex.Store({\n  state: {\n    profile: null\n  },\n  getters: {},\n  mutations: {\n    setProfile(state, profile) {\n      state.profile = profile;\n    }\n  },\n  actions: {\n    async setProfileAsync({\n      commit\n    }) {\n      let profile = null;\n      try {\n        let {\n          code,\n          permissions,\n          roles,\n          user\n        } = await API.queryUserProfile();\n        if (+code === 200) {\n          profile = {\n            permissions,\n            roles,\n            user\n          };\n          commit('setProfile', profile);\n        }\n      } catch (_) {}\n      return profile;\n    }\n  },\n  modules: {}\n});","map":{"version":3,"names":["Vue","Vuex","API","use","Store","state","profile","getters","mutations","setProfile","actions","setProfileAsync","commit","code","permissions","roles","user","queryUserProfile","_","modules"],"sources":["/Users/Hary/Documents/personal/Wumei-Management/wumei/src/store/index.js"],"sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport API from '@/api'\n\nVue.use(Vuex)\n//创建sotre容器\nexport default new Vuex.Store({\n  state: {\n    profile: null\n  },\n  getters: {\n  },\n  mutations: {\n    setProfile(state, profile) {\n      state.profile = profile\n    }\n  },\n  actions: {\n    async setProfileAsync({ commit }) {\n      let profile = null\n      try {\n           let{code,permissions,roles,user}=await API.queryUserProfile()\n           if(+code===200){\n            profile={\n              permissions,\n              roles,\n              user\n            }\n             commit('setProfile',profile)\n           }\n      } catch (_) {\n\n      }\n\n      return profile\n    }\n  },\n  modules: {\n  }\n})\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,GAAG,MAAM,OAAO;AAEvBF,GAAG,CAACG,GAAG,CAACF,IAAI,CAAC;AACb;AACA,eAAe,IAAIA,IAAI,CAACG,KAAK,CAAC;EAC5BC,KAAK,EAAE;IACLC,OAAO,EAAE;EACX,CAAC;EACDC,OAAO,EAAE,CACT,CAAC;EACDC,SAAS,EAAE;IACTC,UAAUA,CAACJ,KAAK,EAAEC,OAAO,EAAE;MACzBD,KAAK,CAACC,OAAO,GAAGA,OAAO;IACzB;EACF,CAAC;EACDI,OAAO,EAAE;IACP,MAAMC,eAAeA,CAAC;MAAEC;IAAO,CAAC,EAAE;MAChC,IAAIN,OAAO,GAAG,IAAI;MAClB,IAAI;QACC,IAAG;UAACO,IAAI;UAACC,WAAW;UAACC,KAAK;UAACC;QAAI,CAAC,GAAC,MAAMd,GAAG,CAACe,gBAAgB,CAAC,CAAC;QAC7D,IAAG,CAACJ,IAAI,KAAG,GAAG,EAAC;UACdP,OAAO,GAAC;YACNQ,WAAW;YACXC,KAAK;YACLC;UACF,CAAC;UACAJ,MAAM,CAAC,YAAY,EAACN,OAAO,CAAC;QAC9B;MACL,CAAC,CAAC,OAAOY,CAAC,EAAE,CAEZ;MAEA,OAAOZ,OAAO;IAChB;EACF,CAAC;EACDa,OAAO,EAAE,CACT;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}